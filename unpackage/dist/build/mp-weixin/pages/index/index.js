(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0521":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("a34a"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,o,a,r,c){try{var s=e[r](c),i=s.value}catch(u){return void n(u)}s.done?t(i):Promise.resolve(i).then(o,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function c(e){i(r,o,a,c,s,"next",e)}function s(e){i(r,o,a,c,s,"throw",e)}c(void 0)}))}}var l=function(){n.e("components/search/index").then(function(){return resolve(n("35c6"))}.bind(null,n)).catch(n.oe)},f={components:{superSearch:l},data:function(){return{searchData:"",imagePath:"http://tmp/QBelpuicGwAG8862781a01556ad83071f6effb988fa8.jpg",itemList:[],searchList:[],result:{},type2resouce:{"有害垃圾":{color:"#d64343",img:"http://iotcd-test.oss-cn-chengdu.aliyuncs.com/test/rc-upload-1615874080056-9.png?name=bad-garbage.png",desc1:"废灯管、废油漆、杀虫剂、废弃化妆品等对人体健康或者自然环境造成直接或者潜在危害的生活废弃物",desc2:["易破损的有害垃圾应该连包装或包裹后投放","压力罐装容器，应排空内容物后投放"]},"干垃圾":{color:"black",img:"http://iotcd-test.oss-cn-chengdu.aliyuncs.com/test/rc-upload-1615874080056-11.png?name=dry-garbage.png",desc1:"除可回收物、有害垃圾、湿垃圾以外的其它生活废弃物。",desc2:["尽量沥干水分","难以辨识类别的生活垃圾投入干垃圾容器内"]},"可回收":{color:"#3f3fcc",img:"http://iotcd-test.oss-cn-chengdu.aliyuncs.com/test/rc-upload-1615874080056-13.png?name=recle-garbage.png",desc1:"废纸张、废塑料、废玻璃制品、非金属、废织物等适宜回收、可循环利用的生活废物",desc2:["轻投轻放","清洁干燥，避免污染","废纸尽量平整","立体包装物请清空内容物，并压扁投放","有尖锐边角的，应包裹后投放"]},"湿垃圾":{color:"green",img:"http://iotcd-test.oss-cn-chengdu.aliyuncs.com/test/rc-upload-1615874080056-15.png?name=wet-garbage.png",desc1:"又称为厨余垃圾、有机垃圾，即易腐垃圾，指食材废料、剩菜剩饭、过期食品、瓜皮果核、花卉绿植、中药药渣等易腐的生物质生活废弃物。",desc2:["园林垃圾 ：树枝的收集呈松散状；树叶、杂草和植物放板条箱内","厨余垃圾：放塑料袋里或放饭带盖的桶里（2~3L的桶）","要求比其他混合垃圾收集频次高"]}}}},onLoad:function(){},methods:{getPhoto:function(){var e=this;console.log("getphone"),wx.chooseImage({count:1,sizeType:"compressed",success:function(t){console.log(t),e.imagePath=t.tempFilePaths[0],e.img2base64(e.imagePath)}})},img2base64:function(e){var t=this;wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){console.log("img2base64"),console.log(e),t.imgClassify(e.data)}})},imgClassify:function(t){var n=this;return u(o.default.mark((function a(){return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n.$toast.loading({duration:0,forbidClick:!0,message:"识别中~~",selector:"#van-toast"}),e.callFunction({name:"ImageClassify",data:{image:t},success:function(e){n.$toast.clear(),console.log(e);var t=e.result.result.map((function(e){return c(c({},e),{},{score:100*e.score.toFixed(3)})})),o=t.filter((function(e){return e.score>70}));console.log(o,t),1===o.length?(n.searchData=o[0].keyword,n.search()):n.showDialog(o)},error:function(e){n.$toast.clear(),n.$notify({type:"warning",message:"网络似乎出了点问题~~"}),n.searchList=[]}});case 2:case"end":return o.stop()}}),a)})))()},showDialog:function(e){this.itemList=e,this.$dialog.alert({selector:"#choose-dialog",confirmButtonText:"返回"})},choose:function(e){this.$dialog.close(),this.searchData=e,this.search()},searchChange:function(e){this.searchData=e.detail},search:function(){var t=this;if(!this.searchData)return this.$notify({type:"warning",message:"输入点什么东西吧~~"});console.log(this.searchData),console.log("点击了search"),this.$toast.loading({duration:0,forbidClick:!0,message:"查询中~~",selector:"#van-toast"}),e.callFunction({name:"TrashClassify",data:{keyword:this.searchData},success:function(e){if(t.$toast.clear(),console.log(e),e.result.matched)return t.searchList=[],void t.showResult({keywords:e.result.keyword,typename:e.result.matched["typename"]});e.result.similars.length?t.searchList=e.result.similars:t.searchList=[]},error:function(e){t.$toast.clear(),t.$notify({type:"warning",message:"网络似乎出了点问题~~"}),t.searchList=[]}})},showResult:function(e){this.result=e,this.$dialog.alert({selector:"#show-result-dialog",showConfirmButton:!1,closeOnClickOverlay:!0})}}};t.default=f}).call(this,n("a9ff")["default"])},"2a8a":function(e,t,n){"use strict";n.r(t);var o=n("0521"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},"52a8":function(e,t,n){},"5c5e":function(e,t,n){"use strict";var o=n("52a8"),a=n.n(o);a.a},8798:function(e,t,n){"use strict";(function(e){n("db8c");o(n("66fd"));var t=o(n("c1e1"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"885a":function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=[]},c1e1:function(e,t,n){"use strict";n.r(t);var o=n("885a"),a=n("2a8a");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("5c5e");var c,s=n("f0c5"),i=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"37a5e0b0",null,!1,o["a"],c);t["default"]=i.exports}},[["8798","common/runtime","common/vendor"]]]);